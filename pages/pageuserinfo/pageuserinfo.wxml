
<titlebar title="{{title}}"></titlebar>

<view class="avatar">
  <open-data type="userAvatarUrl"></open-data>
</view>
<view class="nickname">
  <open-data type="userNickName"></open-data>
</view>
<form bindsubmit="submitForm">
  <view class="form-reg">
    <!-- <view class="form-line">
      <view class="form-label">昵称</view>
      <view class="form-input">
        <open-data type="userNickName"></open-data>
      </view>
    </view> -->
    <view class="form-line">
      <view class="form-label">性别</view>
      <view class="form-input">
        <picker name="gender" bindchange="onSelectGender" value="{{genderIndex}}" range="{{genderArray}}" disabled="{{type!='register'}}">
          <view class="picker">{{genderArray[genderIndex]}} </view>
        </picker>
      </view>
    </view>
    <view class="form-line">
      <view class="form-label">出生地</view>
      <view class="form-input">
        <select-place bind:selectPlace="onSelectPlace" name="birthPlace" id="birthPlace"  disabled="{{type!='register'}}"></select-place>
      </view>
    </view>
    <view class="form-line">
      <view class="form-label">生日 (年/月/日)</view>
      <view class="form-input">
        <select-date bind:selectDate="onSelectDate" name="birthDate" id="birthDate"  disabled="{{type!='register'}}"></select-date>
      </view>
    </view>
    <view class="form-line">
      <view class="form-label">生日 (时/分)</view>
      <view class="form-input">
        <picker name="birthTime" mode="time" bindchange="onSelectTime" value="{{timeValue}}" disabled="{{type == 'readonly'}}">
          <view class="picker {{styleTime}}">{{time}}</view>
        </picker>
      </view>
    </view>
    <view class="form-line" wx:if="{{showMobile}}">
      <view class="form-label">手机号</view>
      <view class="form-input">
        <input name="mobile" value="{{mobile}}" placeholder="请填写手机号" type="number" maxlength="11" placeholder-style="color: #999;" bindinput="onInputMobile" disabled="{{type == 'readonly'}}"/>
      </view>
    </view>
    <view class="form-info"><text decode="emsp">注：1、因信息变动会影响择日结果，请谨慎填写所有信息。\n&emsp;&emsp;2、系统根据真太阳时自动校准排盘。\n&emsp;&emsp;3、付款前务必再三核对以上信息，付款后将不能修改。</text></view>
    <button wx:if="{{type=='register'}}" class="btn-info" form-type='submit' disabled="{{disableBtn}}" loading="{{loadingBtn}}">去支付</button>
    <button wx:if="{{type == 'update'}}" class="btn-info" disabled="{{disableBtn}}" loading="{{loadingBtn}}">保存</button>
  </view>
</form>